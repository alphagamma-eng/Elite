<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Elite Wiki</title>

<style>
* {
  box-sizing: border-box;
  font-family: serif;
}

body {
  margin: 0;
  padding: 16px;
}

h1 {
  margin-top: 0;
}

input {
  width: 100%;
  padding: 8px;
  margin-bottom: 12px;
}

ul {
  list-style: none;
  padding: 0;
}

li {
  margin-bottom: 8px;
  color: #0645ad;
  cursor: pointer;
}

li:hover {
  text-decoration: underline;
}

.section {
  margin-bottom: 12px;
}

.section h2 {
  cursor: pointer;
  border-bottom: 1px solid #aaa;
  padding-bottom: 4px;
}

.section-content {
  display: none;
  padding-left: 10px;
  border-left: 2px solid #ccc;
}

.back {
  color: #0645ad;
  cursor: pointer;
  margin-bottom: 12px;
  display: inline-block;
}
</style>
</head>

<body>

<!-- LIST PAGE -->
<div id="listPage">
  <h1>Elite Wiki</h1>
  <input id="search" placeholder="Cari artikel...">
  <ul id="articleList"></ul>
</div>

<!-- ARTICLE PAGE -->
<div id="articlePage" style="display:none;">
  <div class="back" onclick="showList()">‚Üê Kembali</div>
  <h1 id="articleTitle"></h1>
  <div id="articleContent"></div>
</div>

<script>
let articles = [];

// LOAD DATA
fetch(url)
  .then(res => res.json())
  .then(data => {
    articlesData = data;

// RENDER LIST
function renderList(filter = "") {
  const list = document.getElementById("articleList");
  list.innerHTML = "";

  articles
    .filter(a => a.title.toLowerCase().includes(filter.toLowerCase()))
    .forEach((a, i) => {
      const li = document.createElement("li");
      li.innerText = a.title;
      li.onclick = () => openArticle(i);
      list.appendChild(li);
    });
}

// OPEN ARTICLE
function openArticle(index) {
  const article = articles[index];

  document.getElementById("articleTitle").innerText = article.title;
  const area = document.getElementById("articleContent");
  area.innerHTML = "";

  article.sections.forEach(sec => {
    const wrapper = document.createElement("div");
    wrapper.className = "section";

    const h2 = document.createElement("h2");
    h2.innerText = sec.heading;

    const content = document.createElement("div");
    content.className = "section-content";

    sec.content.split("\n").forEach(line => {
      const p = document.createElement("p");
      p.innerText = line;
      content.appendChild(p);
    });

    h2.onclick = () => {
      content.style.display =
        content.style.display === "block" ? "none" : "block";
    };

    wrapper.appendChild(h2);
    wrapper.appendChild(content);
    area.appendChild(wrapper);
  });

  document.getElementById("listPage").style.display = "none";
  document.getElementById("articlePage").style.display = "block";
}

// BACK
function showList() {
  document.getElementById("articlePage").style.display = "none";
  document.getElementById("listPage").style.display = "block";
}

// SEARCH
document.getElementById("search").addEventListener("input", e => {
  renderList(e.target.value);
});
</script>

</body>
</html>
